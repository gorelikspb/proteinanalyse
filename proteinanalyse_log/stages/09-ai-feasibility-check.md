# Этап 9: AI Feasibility Check - Инструмент предсказания экспрессируемости белков

**Что было**: Сайт имел базовые инструменты для анализа последовательностей, но не было специализированного инструмента для предсказания экспрессируемости белков и оценки рисков при экспрессии.

**Решение**: 
1. Создан новый инструмент **AI Feasibility Check** с комплексным анализом:
   - Определение типа последовательности (DNA/protein)
   - Для DNA: GC%, rare codon fraction (E.coli), перевод в белок
   - Для protein: расчет множества параметров:
     - Mean hydrophobicity (Kyte-Doolittle scale)
     - Charge per residue
     - Disorder proxy (доля P, E, D, K, Q, S)
     - Low-complexity regions (sliding window 15 aa)
     - Transmembrane segments (sliding window 19 aa)
     - Signal peptide detection
     - Aggregation clusters (≥5 последовательных I/L/V/F/W/Y)
     - Cysteine count

2. Система скоринга:
   - Solubility score (на основе гидрофобности, агрегации, заряда)
   - Complexity score (на основе low-complexity регионов)
   - Codon score (для DNA последовательностей)
   - Expressibility score (0-100) с категориями: good (≥70), moderate (40-69), poor (<40)

3. Вывод результатов:
   - Expressibility Score со статусом
   - Детальный Summary всех параметров
   - Warnings для потенциальных проблем
   - Recommendations для улучшения экспрессии

4. Интеграция формы запроса на более точный анализ:
   - Секция с упоминанием методов, которые еще не реализованы
   - Форма с автоматически вставленной последовательностью
   - EmailJS для отправки запросов администратору

**Почему такое решение**:
- Комплексный анализ всех важных параметров экспрессии в одном инструменте
- Понятный скоринг 0-100 для быстрой оценки
- Автоматические warnings и recommendations помогают пользователям
- Форма запроса позволяет собирать запросы на более продвинутый анализ
- EmailJS работает из браузера без backend

**Плюсы**:
- ✅ Уникальный инструмент для предсказания экспрессируемости
- ✅ Все расчеты выполняются в браузере (приватность данных)
- ✅ Понятный интерфейс с цветовой индикацией статуса
- ✅ Автоматические рекомендации для улучшения экспрессии
- ✅ Возможность собирать запросы на более точный анализ

**Минусы**:
- ❌ Упрощенные алгоритмы (не ML модели)
- ❌ Только E.coli codon usage (нет других организмов)
- ❌ Нет интеграции с базами данных белков

**Подводные камни**:
- Важно было правильно реализовать все алгоритмы (sliding windows, detection rules)
- Kyte-Doolittle scale должен быть точным
- E.coli codon usage таблица должна быть актуальной
- Cloudflare Worker требует добавления обработки нового типа запроса `advanced_analysis`

**Что сделано**:
- ✅ Создана страница `ai-feasibility.html` с полным функционалом
- ✅ Реализованы все алгоритмы анализа (hydrophobicity, charge, disorder, TM, signal peptide, aggregation)
- ✅ Система скоринга с Expressibility Score 0-100
- ✅ Добавлены примеры последовательностей (хороший и плохой)
- ✅ Плохой пример: последовательность с множеством гидрофобных аминокислот (L, I, V, F, W, Y) подряд для демонстрации низкого expressibility score
- ✅ Добавлена секция про более точный анализ с формой запроса
- ✅ Форма автоматически заполняется последовательностью из анализа
- ✅ Интегрирована отправка запросов через Cloudflare Worker + Resend API (использует существующий Worker `printacopy.gorelikgo.workers.dev`)
- ✅ Страница добавлена в навигацию и на главную страницу
- ✅ Обновлен `sitemap.xml`

**Технические детали**:
- Kyte-Doolittle hydrophobicity scale для расчета mean hydrophobicity
- E.coli codon usage таблица для определения rare codons (< 10 per 1000)
- Sliding window алгоритмы для low-complexity (15 aa) и TM segments (19 aa)
- Signal peptide detection: ≥7 гидрофобных aa подряд + cleavage site pattern
- Aggregation clusters: ≥5 последовательных I/L/V/F/W/Y
- Cloudflare Worker + Resend API для отправки email (3,000 писем/месяц бесплатно)

**Следующие шаги**:
- Обновить Cloudflare Worker для обработки типа запроса `advanced_analysis` (см. `WORKER_UPDATE_INSTRUCTIONS.md`)
- Возможно добавить ML модели для более точного предсказания
- Добавить codon usage для других организмов (yeast, mammalian)

**Ожидаемый результат**:
- Уникальный инструмент для SEO (долгие ключевые слова)
- Полезный инструмент для исследователей белков
- Возможность собирать запросы на более продвинутый анализ
- +100-300 органических посетителей/месяц через 2-4 месяца



